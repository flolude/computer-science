\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[german]{babel}
\usepackage{graphicx}
\usepackage[a4paper, total={6in, 10in}]{geometry}
\usepackage{listings}
\usepackage{color}

\title{Objektorientierte Programmierung: Aufgabenblatt 4}
\author{Florian Ludewig (185722)}
\date\today


\definecolor{my_red}{RGB}{216,60,104}
\definecolor{my_green}{RGB}{68,189,77}
\definecolor{my_grey}{RGB}{78,90,107}
\lstdefinestyle{customCStyle}{
  language=Java,
  numbers=left,
  stepnumber=1,
  breaklines=true,
  showstringspaces=false,
  keywordstyle=\color{my_red},
  stringstyle=\color{my_green},
  commentstyle=\color{my_grey},
  morecomment=[l][\color{magenta}]
}
\lstset{basicstyle=\ttfamily\small,style=customCStyle}

\begin{document}
\maketitle

\section*{Aufgabe 1}
\subsubsection*{Java Implementierung}
\texttt{Einwohner.java}
\begin{lstlisting}
public class Einwohner {
  protected double steuerFaktor = 0.1;
  protected int einkommen;
  protected int mindestAbgabe = 1;

  int zuVersteuerndesEinkommen() {
    return this.einkommen;
  }

  int steuer() {
    int abgabe = (int) Math.floor(this.zuVersteuerndesEinkommen() * this.steuerFaktor);
    return abgabe > this.mindestAbgabe ? abgabe : this.mindestAbgabe;
  }

  void setEinkommen(int einkommen) {
    this.einkommen = einkommen;
  }
}
\end{lstlisting}
\texttt{Adel.java}
\begin{lstlisting}
public class Adel extends Einwohner {
  Adel() {
    this.mindestAbgabe = 20;
  }
}
\end{lstlisting}
\texttt{Koenig.java}
\begin{lstlisting}
public class Koenig extends Einwohner {
  int steuer() {
    /*
      * Ich gehe davon aus, dass der Koenig auch den Mindestbetrag von 1 Gulden nicht
      * zahlen muss (ist aus 3. nicht genau hervorgegangen)
      */
    return 0;
  }
}
\end{lstlisting}
\texttt{Leibeigener.java}
\begin{lstlisting}
public class Leibeigener extends Bauer {
  int zuVersteuerndesEinkommen() {
    return this.einkommen > 12 ? this.einkommen - 12 : 12;
  }
}
\end{lstlisting}

\subsubsection*{Erg√§nztes Klassdendiagramm}
\includegraphics[width=\textwidth]{oop4_1.png}

\pagebreak
\section*{Aufgabe 2}
\subsection*{Array}
\texttt{DIAarray.java}
\begin{lstlisting}
import java.util.Arrays;

public class DIAarray extends DynIntArray {
  int array[] = new int[0];

  void add(int e) {
    int newArray[] = new int[this.array.length + 1];
    for (int i = 0; i < this.array.length; i++) {
      newArray[i] = this.array[i];
    }
    newArray[this.array.length] = e;
    this.array = newArray;
  }

  void setElementAt(int i, int e) {
    this.array[i] = e;
  }

  int getElementAt(int i) {
    return this.array.length > i ? this.array[i] : 0;
  }

  int getElementCount() {
    return this.array.length;
  }

  void print() {
    System.out.println(Arrays.toString(this.array));
  }
}
\end{lstlisting}

\subsection*{List}
\texttt{Node.java}
\begin{lstlisting}
public class Node {
  Node previous;
  Node next;
  int value = 0;

  Node() {}
  Node(int value) {
    this.value = value;
  }
}
\end{lstlisting}
\pagebreak
\texttt{DIList.java}
\begin{lstlisting}
public class DIAlist extends DynIntArray {
  Node firstNode;

  void add(int e) {
    Node last = this.getLastNode();
    Node inserted = new Node(e);
    if (last == null) this.firstNode = inserted;
    else last.next = inserted;
  }

  void setElementAt(int i, int e) {
    Node node = this.getNodeAt(i);
    if (node != null) node.value = e;
  }

  int getElementAt(int i) {
    Node node = this.getNodeAt(i);
    return node == null ? 0 : node.value;
  }

  int getElementCount() {
    Node temp = this.firstNode;
    int i = 1;
    while (temp.next != null) {
      temp = temp.next;
      i++;
    }
    return i;
  }

  void print() {
    String out = "[";
    Node temp = this.firstNode;
    boolean first = true;
    while (temp != null) {
      if (first) {
        out += temp.value;
        first = false;
      } else out += ", " + temp.value;
      temp = temp.next;
    }
    System.out.println(out + "]");
  }

  private Node getNodeAt(int i) {
    Node temp = this.firstNode;
    for (int j = 0; j < i; j++) {
      if (temp.next == null) return null;
      temp = temp.next;
    }
    return temp;
  }

  private Node getLastNode() {
    Node temp = this.firstNode;
    if (temp == null) return null;
    while (temp.next != null) {
      temp = temp.next;
    }
    return temp;
  }
}
\end{lstlisting}


\end{document}