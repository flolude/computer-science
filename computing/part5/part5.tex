\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[german]{babel}
\usepackage{listings}
\usepackage{color}
\usepackage{graphicx}
\usepackage[a4paper, total={6in, 10in}]{geometry}

\title{Rechnerstrukturen: Übungsblatt 5}
\author{Florian Ludewig (185722)}
\date\today

\definecolor{my_red}{RGB}{216,60,104}
\definecolor{my_green}{RGB}{68,189,77}
\definecolor{my_grey}{RGB}{78,90,107}
\lstdefinestyle{customCStyle}{
  language=C,
  numbers=left,
  stepnumber=1,
  breaklines=true,
  showstringspaces=false,
  keywordstyle=\color{my_red},
  stringstyle=\color{my_green},
  commentstyle=\color{my_grey},
  morecomment=[l][\color{magenta}]
}
\lstset{basicstyle=\ttfamily\small,style=customCStyle}

\begin{document}
\maketitle

\section*{Aufgabe 1}
\includegraphics[width=\textwidth]{computing5_1.png}

\section*{Aufgabe 2}
\begin{lstlisting}
#include <stdio.h>
#include <limits.h>
#include <time.h>
#include <stdlib.h>

unsigned W = sizeof(unsigned) * 8;
unsigned x, y;

int arithmeticRightShift(int x, int n) {
    if (x < 0 && n > 0)
        return x >> n | ~(~0U >> n);
    else
        return x >> n;
}

unsigned a() {
  return ~(arithmeticRightShift((x|(~x+1)), W-1))&1;
}
unsigned b() {
  return ~(arithmeticRightShift(x, W-1) << 1);
}
unsigned c() {
  return ~(~x|(y^(INT_MIN+INT_MAX)));
}
unsigned d() {
  return x^(INT_MIN+INT_MAX);
}
unsigned e() {
  return ((x^y)&~y)|(~(x^y)&y);
}
unsigned f() {
  return arithmeticRightShift(((x<0) ? (x+3) : x), 2);
}

void test_all(unsigned expected_value) {
  printf("a: %0x ?== %0x (match: %d)\n", expected_value, a(), expected_value == a());
  printf("b: %0x ?== %0x (match: %d)\n", expected_value, b(), expected_value == b());
  printf("c: %0x ?== %0x (match: %d)\n", expected_value, c(), expected_value == c());
  printf("d: %0x ?== %0x (match: %d)\n", expected_value, d(), expected_value == d());
  printf("e: %0x ?== %0x (match: %d)\n", expected_value, e(), expected_value == e());
  printf("f: %0x ?== %0x (match: %d)\n", expected_value, f(), expected_value == f());
}

int main(void) {
  srand(time(NULL));
  x = (~rand())+1;
  y = (~rand())+1;

  printf("1:\n");
  test_all(x);

  printf("\n2:\n");
  test_all(x&y);

  printf("\n3 positive x:\n");
  test_all((x<0?1:-1));

  x = (~-34546)+1;
  printf("\n3 negative x:\n");
  test_all((x<0?1:-1));

  return 0;
}
\end{lstlisting}

Die Ausgabe des obigen C-Programms ist:

\begin{lstlisting}
1:
a: ab739e86 ?== 0 (match: 0)
b: ab739e86 ?== 1 (match: 0)
c: ab739e86 ?== 89529682 (match: 0)
d: ab739e86 ?== 548c6179 (match: 0)
e: ab739e86 ?== ab739e86 (match: 1)
f: ab739e86 ?== eadce7a1 (match: 0)

2:
a: 89529682 ?== 0 (match: 0)
b: 89529682 ?== 1 (match: 0)
c: 89529682 ?== 89529682 (match: 1)
d: 89529682 ?== 548c6179 (match: 0)
e: 89529682 ?== ab739e86 (match: 0)
f: 89529682 ?== eadce7a1 (match: 0)

3 positive x:
a: ffffffff ?== 0 (match: 0)
b: ffffffff ?== 1 (match: 0)
c: ffffffff ?== 8dd2100a (match: 0)
d: ffffffff ?== 86f1 (match: 0)
e: ffffffff ?== ffff790e (match: 0)
f: ffffffff ?== ffffde43 (match: 0)

3 negative x:
a: ffffffff ?== 0 (match: 0)
b: ffffffff ?== ffffffff (match: 1)
c: ffffffff ?== 86e2 (match: 0)
d: ffffffff ?== ffff790d (match: 0)
e: ffffffff ?== 86f2 (match: 0)
f: ffffffff ?== 21bc (match: 0)
\end{lstlisting}

Wodurch sich eindeutig folgende Lösungen ergeben:

1) e

2) c

3) b für negative \texttt{x}, es gibt keine Lösung für positive \texttt{x}

\end{document}